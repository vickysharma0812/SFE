<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.6">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>lecture-4-faq</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-6c21014d9765ba549c6ebad95917e4d7.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-a4361503b59bf91d21a19a6a725f9d4e.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="fullcontent">

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header>




<section id="questions-asked-in-lecture-4" class="level1">
<h1>Questions asked in Lecture 4</h1>
<section id="effect-of-temperature-on-biological-processes" class="level2">
<h2 class="anchored" data-anchor-id="effect-of-temperature-on-biological-processes">Effect of temperature on biological processes</h2>
<p>Rising temperatures influence reaction rates and enzyme activity, thereby impacting DNA replication, cell division, and other essential cellular processes.</p>
<p>Increase in temperature often leads to more enzyme activity, but extreme temperatures can denature enzymes, leading to decreased activity.</p>
<p>The organism which can tolerate a range of temperature often equipped with heat loss mechanisms such as evaporation mechanisms. For example, humans sweat when the temperature is very high. This is called evaporative cooling. Cold-blooded animals, such as reptiles, can alter the body temperature to match their surroundings.</p>
<div class="callout callout-style-default callout-note callout-titled" title="Why should be care about bilogical processes vs temperature?">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Why should be care about bilogical processes vs temperature?
</div>
</div>
<div class="callout-body-container callout-body">
<p>Due to the climate change, unusual temperature changes are observed in almost every part of the world. This means the habitats of microorganisms are also undergoing unusual temperature variations. If we can study how the bilogical processes changes with temperature, we can develop mathematical models which can help us in quantifying the effect of temperature change on such microorganisms. This can help us in predicting the future of such microorganisms and their habitats.</p>
</div>
</div>
<p>Further readings</p>
<ul>
<li><a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC9335213/">A general theory for temperature dependence in biology</a></li>
<li><a href="https://www.doi.org/10.1146/annurev-biophys-112221-074832">The Effects of Temperature on Cellular Physiology</a></li>
</ul>
<p>We can classified organisms into following categories based on their the temperature of their habitats.</p>
<ul>
<li><p>Stenothermal organisms: These organisms can only tolerate a narrow range of temperatures. For example, some fish species are stenothermal and can only survive in specific temperature ranges. These organisms are further divided into Thermophilic and Cryophilic organisms.</p>
<ul>
<li>Thermophilic organisms: These organisms thrive at high temperatures, often above 45°C. They are commonly found in hot springs and hydrothermal vents.</li>
<li>Cryophilic organisms: These organisms thrive at low temperatures, often below 20°C including subzero temperatures. They are commonly found in polar regions and deep-sea environments.</li>
</ul></li>
<li><p>Eurythermal organisms: These organisms can tolerate a wide range of temperatures.</p></li>
<li><p>Extremophiles organisms: These organisms can survive in extreme conditions, including high temperatures, high salinity, and extreme pH levels. They are often found in extreme environments such as hot springs, salt flats, and deep-sea hydrothermal vents.</p></li>
</ul>
<p>We can also classify organisms into endothermic and ectothermic organisms based on their ability to regulate body temperature.</p>
<ul>
<li>Endothermic organisms: These organisms can regulate their body temperature internally, often through metabolic processes. They are commonly referred to as warm-blooded animals. Examples include mammals and birds.</li>
<li>Ectothermic organisms: These organisms rely on external sources of heat to regulate their body temperature. They are commonly referred to as cold-blooded animals. Examples include reptiles, amphibians, and fish.</li>
</ul>
</section>
<section id="temperature-and-tree-growth" class="level2">
<h2 class="anchored" data-anchor-id="temperature-and-tree-growth">Temperature and Tree growth</h2>
<p>Plants regulate their temperature by dissipating part of thermal energy they absorb. In this way, they prevent them from injury and death due to excessive high temperature. Plants use heat transfer mechanisms to transfer heat to their environment. These mechanisms were discussed in Lecture 4. The heat transfer due to radiation will be discussed in Lecture 5.</p>
<p>Plant can function properly under a broad range of temperature, generally between 0 and 50 degree C. Low temperature usually decreases the rate of photosynthesis. Nevertheless, significant photosynthesis can occur in conifers in cold climate.</p>
<p>As temperature increases, plant activities increases upto an optimum temperature. Temperature increase beyond optimum value can decreases the plant activities. Following processes are influenced strongly due to the temperature:</p>
<ol type="1">
<li>The activities of enzymes which catalyze the biochemical reactions in plant cells</li>
<li>The solubility of carbon dioxide and oxygen in plant cells</li>
<li>Tranpiration</li>
<li>The ability of root system to absorb water and nutrients</li>
<li>Membrane permeability</li>
</ol>
<p>In a plant different growth processes may require different optimum temperatures. Therefore, we cannot say that there is a single optimum temperature for which rate of plant growth or biomass product is highest. In this way, in a plant some growth happens at day time, some growth happen at night time.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>The difference between night time temperature and day time temperature is called thermoperiod.</p>
</div>
</div>
<p>We have discussed in the class that the rate of photosynthesis is highest at the optimum temperature. When temperature increases above the optimum temperature the rate of photosynthesis decreases. For example at about 30 degree C, many enzymes tend to become disrupted. If high temperature remains for a long period the enzymes become nonfunctional.</p>
<p>We also discussed in Lecture 4 that respiration increases greatly at very high temperature (50 degree C). Therefore, at very high temperature respiration will be higher than the photosynthesis. The respiration help the plant in releasing excess heat. But if the temperature increases further, it can result in death of plant cells. May studies have shown that the dangerous point occur at about 55 degree C.</p>
<p>A plant can also rearrange its leaves so that it receives less sunlight. In this way, the plan can decreases the intake of thermal energy. For example when red maple seedlings are subjected to high light intensities, the leaf blades are deflected downward until they hand in a vertical position. In this position the light is tangential to the leaves and they minimizes the intake of thermal energy. When these seedlings are put in shade they return to the horizontal position.</p>
</section>
<section id="cold-injury-to-plants" class="level2">
<h2 class="anchored" data-anchor-id="cold-injury-to-plants">Cold injury to plants</h2>
<p>When temperature drops below 0 degree C, the water in the plant cells freezes. This can cause damage to the plant cells. The freezing of water in the plant cells can cause the formation of ice crystals, which can puncture and rupture the cell membranes. This can lead to cell death and tissue damage.</p>
<div class="callout callout-style-default callout-note callout-titled" title="Process of freezing in plants">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Process of freezing in plants
</div>
</div>
<div class="callout-body-container callout-body">
<p>First the water between the two cells freezes. This type of freezing will create cryo-suction outside the cell zone, which will move water from the cell to outer freezing area. In this way, the amount of water in the cell decreases and it reaches to a point where there is only bounded water inside the cell (protoplasm). As temperature decreases furture, bound water is pulled away from the protoplasm. This process initiate protein denaturation and ultimately causing death of the cell.</p>
</div>
</div>
<p>In tropical plants, death may occur at above freezing temperatures from 0 to 10 degree C.</p>
<p>Rapid thawing in plants can also cause damage to the plant cells. When the temperature rises rapidly, the ice crystals in the plant cells can melt too quickly, causing the cell membranes to rupture. This can lead to cell death and tissue damage.</p>
<p>Most trees in temperate and boreal zones starts to become inactive when the length of the day shortens and temperature drops. The plant lowers the water content of protoplasm by transferring water out of cells. Many species are able to survive below zero temperature without damage.</p>
</section>
<section id="boundary-layer" class="level2">
<h2 class="anchored" data-anchor-id="boundary-layer">Boundary layer</h2>
<ul>
<li>The boundary layer is a thin zone of calm air that surrounds each leaf.</li>
<li>The air is a poor conductor of heat. What it means is that the presence of SLOW moving air between two objects will reduce the rate of heat transfer between these two objects. Note that we are talking here about the SLOW or STATIC air (this is important). If the thickness of SLOW moving air is large, the heat transfer becomes more difficult. Therefore, a thin layer is more conducting then the thick layer.</li>
<li>The moving air can remove heat more quickly than the static air. This is because the moving air can carry away the heat from the surface of the leaf more efficiently than the static air. The moving air can also bring in cooler air to replace the warmer air that is near the surface of the leaf.</li>
<li>Therefore, if the leaves are in direct contact with the moving air, they can easily exchange heat with it. However, if the boundary layer is present between the moving (FAST moving) air and leaves then it would be difficult to exchange heat with the air.</li>
</ul>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>A thick boundary layer can reduce the transfer of heat, CO2 and water vapor from the leaf to the environment.</p>
</div>
</div>
<ul>
<li><p>There are several factors that influence the boundary layer thickness including characteristics of the leaves themselves. Leaves that are larger in size, are not dissected, and have pubescence or hairs typically have thicker boundary layers.</p></li>
<li><p>A dense canopy including very tight spacing of plants increases the boundary layer thickness. This is because the leaves are closer together and the air is not able to move freely between them. This can lead to a thicker boundary layer and reduced heat transfer.</p></li>
<li><p>Wind speed can also influence the boundary layer thickness. Higher wind speeds can reduce the boundary layer thickness by increasing the movement of air around the leaves. This can lead to more efficient heat transfer and increased cooling of the leaves.</p></li>
<li><p>This is one of the reasons why at least some air movement in a greenhouse is advised.</p></li>
<li><p>So when the boundary layer is thick, water loss from the leaf decreases and thus, water uptake through plant is diminished. This can cause nutrient deficiency.</p></li>
</ul>
<p>Following video explains the concept of boundary layer in detail.</p>
<div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/YsxBqL48kIE" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>